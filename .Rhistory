HarderianTumor = as.factor(Harderian_Tumor),
PreTLymphoma = as.factor(PreT_Lymphoma),
Score = as.ordered(Cataract_Score)) # ordinal cat; leave as numeric?
# select vars, add binary conversion for score
cats <- cats %>%
select(c(Animal, Sex, Weight, CoatColor, Family, BCS, Age, Treatment,
MyeloidLeukemia, HarderianTumor, PreTLymphoma, Score)) %>%
mutate(Cataracts = ifelse(Score < 2, 0, 1))
# glance at the dataset
# str(cats)
sex_trt <- cats %>%
group_by(Treatment, Sex, Cataracts) %>%
summarise(n = n()) %>%
ungroup() %>%
group_by(Treatment, Sex) %>%
mutate(prop = round(n/sum(n), digits = 2))
sum_tab <- sex_trt %>%
pivot_wider(names_from = Sex, values_from = c(n, prop)) %>%
mutate(Cataracts = ifelse(Cataracts == 0, "No", "Yes"),
Treatment = rep(" ", 1)) %>%
relocate(prop_F, .after = n_F)
n_C <- c(438, 58, 214, 63, 281, 115)
prop_C <- c(0.88, 0.12, 0.77, 0.23, 0.71, 0.29)
sum_tab <- sum_tab %>%
ungroup() %>%
mutate(n_C = n_C, prop_C = prop_C) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 258, prop_F = NA,
n_M = 238, prop_M = NA, n_C = 496, prop_C = NA, .after = 2) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 145, prop_F = NA,
n_M = 132, prop_M = NA, n_C = 277, prop_C = NA, .after = 5) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 205, prop_F = NA,
n_M = 191, prop_M = NA, n_C = 396, prop_C = NA, .after = 8) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 608, prop_F = NA,
n_M = 561, prop_M = NA, n_C = 1169, prop_C = NA, .after = 9)
options(knitr.kable.NA = '')
ct_prop <- kbl(sum_tab,
caption = "Mice Counts and Percentages by Sex, Treatment Group, Cataracts",
col.names = c("Treatment", "Cataracts", "n", "prop", "n", "prop", "n", "prop")) %>%
kable_styling(latex_options = "hold_position") %>%
kable_classic_2(full_width = F, html_font = "Cambria") %>%
add_header_above(c(" " = 2, "Female" = 2, "Male" = 2, "$\\sum$" = 2)) %>%
pack_rows(index = c("Control" = 3, "Gamma" = 3, "HZE" = 3, "$\\sum$" = 1))
ct_prop
# Plot of average score of sex-group-family
grsex_score <- cats %>%
group_by(Sex, Treatment, Family) %>%
summarize(mean_score = mean(Cataracts))
# choose facet direction and just show one
l1 <- ggplot(grsex_score, aes(x = Treatment, y = mean_score, color = Sex)) +
geom_line(aes(group = Family)) + facet_grid(vars(Sex)) +
scale_x_discrete(expand = c(0, .2)) +
theme_light() +
labs(y = "mean score",
title = "Cataracts by Family, Sex, Treatment Group")
getwd()
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE) # change to echo = FALSE for final
cats <- read_excel("/GRSD.cataract.xlsx", sheet = "Sheet1")
cats <- read_excel("./GRSD.cataract.xlsx", sheet = "Sheet1")
cats <- read_excel("GRSD.cataract.xlsx", sheet = "Sheet1")
getwd()
cats <- read_excel(path = "GRSD.cataract.xlsx", sheet = "Sheet1")
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE) # change to echo = FALSE for final
cats <- read_excel("GRSD.cataract.xlsx", sheet = "Sheet1")
cats <- read_excel(path = "GRSD.cataract.xlsx", sheet = "Sheet1")
cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`))) %>%
kbl(caption = "Counts of Score by Treatment") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE) # change to echo = FALSE for final
library(readxl)
library(tidyverse)
library(lme4)
library(broom.mixed)
library(kableExtra)
library(emmeans)
library(ggsci)
library(sjPlot)
library(coda)
library(rjags)
library(R2jags)
library(superdiag)
library(mcmcplots)
library(ggmcmc)
library(gridExtra)
cats <- read_excel(path = "GRSD.cataract.xlsx", sheet = "Sheet1")
# remove spaces from column and value names
names(cats) <- str_replace_all(names(cats), " ", "_")
cats <- cats %>%
mutate(CoatColor = str_replace_all(coat_color, " ", "_"))
# turn categorical vars into factor
cats <- cats %>%
rename(Age = `age_(days)`,
Weight = weight,
Animal = animal) %>%
mutate(Sex = as.factor(sex),
CoatColor = as.factor(CoatColor),
Family = as.factor(family), # should this stay a factor? Yes?
BCS = as.ordered(BCS),
Treatment = relevel(as.factor(groups), ref = "Unirradiated"),
MyeloidLeukemia = as.factor(Myeloid_Leukemia),
HarderianTumor = as.factor(Harderian_Tumor),
PreTLymphoma = as.factor(PreT_Lymphoma),
Score = as.ordered(Cataract_Score)) # ordinal cat; leave as numeric?
# select vars, add binary conversion for score
cats <- cats %>%
select(c(Animal, Sex, Weight, CoatColor, Family, BCS, Age, Treatment,
MyeloidLeukemia, HarderianTumor, PreTLymphoma, Score)) %>%
mutate(Cataracts = ifelse(Score < 2, 0, 1))
# glance at the dataset
# str(cats)
cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`))) %>%
kbl(caption = "Counts of Score by Treatment") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(cats, caption = "Counts of Score by Treatment") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`))) %>%
kbl(caption = "Counts of Score by Treatment") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`))) %>%
kbl(caption = "Counts of Score by Treatment") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kable(gsc, caption = "Counts of Score by Treatment") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, caption = "Counts of Score by Treatment", booktabs = T) %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1)) %>%
kable_styling(full_width = F, position = "float_right")
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, caption = "Counts of Score by Treatment", booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, caption = "Counts of Score by Treatment", booktabs = T) %>%
kable_styling(latex_options = c(full_width = F, position = "float_right")) %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, caption = "Counts of Score by Treatment", booktabs = T) %>%
kable_styling(latex_options = c(full_width = F, position = "float_right")) %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE)
options(knitr.table.format = "latex")
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE)
options(knitr.table.format = "latex")
options(kableExtra.latex.load_packages = TRUE)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, caption = "Counts of Score by Treatment", booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kable(gsc, booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
knitr::kable(gsc, booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, cap = "Counts of score by treatment", booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, caption = "Counts of score by treatment", booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc,
caption = "Table 1.1: Counts of cataract score by treatment group",
booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, format = 'latex', booktabs = T,
caption = "Counts of score by treatment group \\label{gsc:table}") %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, format = 'latex', booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, format = 'latex', booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, format = 'latex', booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE)
#options(knitr.table.format = "latex")
#options(kableExtra.latex.load_packages = TRUE)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
xtable(gsc, caption = "Counts of score by treatment group") %>%
xtable2kable() %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
library(xtable)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
xtable(gsc, caption = "Counts of score by treatment group") %>%
xtable2kable() %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
kbl(gsc, format = "pandoc",
caption = "Counts of score by treatment group", booktabs = T) %>%
kable_styling(full_width = F, position = "float_right") %>%
add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
sex_trt <- cats %>%
group_by(Treatment, Sex, Cataracts) %>%
summarise(n = n()) %>%
ungroup() %>%
group_by(Treatment, Sex) %>%
mutate(prop = round(n/sum(n), digits = 2))
sum_tab <- sex_trt %>%
pivot_wider(names_from = Sex, values_from = c(n, prop)) %>%
mutate(Cataracts = ifelse(Cataracts == 0, "No", "Yes"),
Treatment = rep(" ", 1)) %>%
relocate(prop_F, .after = n_F)
n_C <- c(438, 58, 214, 63, 281, 115)
prop_C <- c(0.88, 0.12, 0.77, 0.23, 0.71, 0.29)
sum_tab <- sum_tab %>%
ungroup() %>%
mutate(n_C = n_C, prop_C = prop_C) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 258, prop_F = NA,
n_M = 238, prop_M = NA, n_C = 496, prop_C = NA, .after = 2) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 145, prop_F = NA,
n_M = 132, prop_M = NA, n_C = 277, prop_C = NA, .after = 5) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 205, prop_F = NA,
n_M = 191, prop_M = NA, n_C = 396, prop_C = NA, .after = 8) %>%
add_row(Treatment = " ", Cataracts = "$\\sum$", n_F = 608, prop_F = NA,
n_M = 561, prop_M = NA, n_C = 1169, prop_C = NA, .after = 9)
options(knitr.kable.NA = '')
ct_prop <- kbl(sum_tab, booktabs = T, escape = FALSE,
col.names = c("Treatment", "Cataracts", "n", "prop", "n", "prop", "n", "prop")) %>%
kable_styling(full_width = F, latex_options = "hold_position") %>%
add_header_above(c(" " = 2, "Female" = 2, "Male" = 2, "$\\sum$" = 2)) %>%
pack_rows(index = c("Control" = 3, "Gamma" = 3, "HZE" = 3, "$\\sum$" = 1))
ct_prop
install.packages("flextable")
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
flextable(gsc)
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE)
#options(knitr.table.format = "latex")
#options(kableExtra.latex.load_packages = TRUE)
library(readxl)
library(tidyverse)
library(lme4)
library(broom.mixed)
library(knitr)
library(flextable)
library(emmeans)
library(ggsci)
library(sjPlot)
library(coda)
library(rjags)
library(R2jags)
library(superdiag)
library(mcmcplots)
library(ggmcmc)
library(gridExtra)
cats <- read_excel(path = "GRSD.cataract.xlsx", sheet = "Sheet1")
# remove spaces from column and value names
names(cats) <- str_replace_all(names(cats), " ", "_")
cats <- cats %>%
mutate(CoatColor = str_replace_all(coat_color, " ", "_"))
# turn categorical vars into factor
cats <- cats %>%
rename(Age = `age_(days)`,
Weight = weight,
Animal = animal) %>%
mutate(Sex = as.factor(sex),
CoatColor = as.factor(CoatColor),
Family = as.factor(family), # should this stay a factor? Yes?
BCS = as.ordered(BCS),
Treatment = relevel(as.factor(groups), ref = "Unirradiated"),
MyeloidLeukemia = as.factor(Myeloid_Leukemia),
HarderianTumor = as.factor(Harderian_Tumor),
PreTLymphoma = as.factor(PreT_Lymphoma),
Score = as.ordered(Cataract_Score)) # ordinal cat; leave as numeric?
# select vars, add binary conversion for score
cats <- cats %>%
select(c(Animal, Sex, Weight, CoatColor, Family, BCS, Age, Treatment,
MyeloidLeukemia, HarderianTumor, PreTLymphoma, Score)) %>%
mutate(Cataracts = ifelse(Score < 2, 0, 1))
# glance at the dataset
# str(cats)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
flextable(gsc)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- add_header_row(flextable(gsc), values = c(" ", "Cataract Score", " "),
colwidths = c(1,4,1))
gsc
dim(gscv)
dim(gsc)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- add_header_row(flextable(gsc), values = c( "Cataract Score"),
colwidths = 4)
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- add_header_row(flextable(gsc), values = c("Cataract Score"),
colwidths = 6)
gsc
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- add_header_row(flextable(gsc), values = "Cataract Score",
colwidths = 6)
gsc
gsc <- cats %>% group_by(Score) %>%
count(Treatment) %>%
pivot_wider(names_from = Score, values_from = n) %>%
group_by(Treatment) %>%
mutate(Total = sum(c(`1`, `2`, `3`, `4`)))
#kbl(gsc, booktabs = T) %>%
#  kable_styling(full_width = F, position = "float_right") %>%
#  add_header_above(c( " " = 1, "Cataract Score" = 4, " " = 1))
gsc <- add_header_row(flextable(gsc), values = c(" ", "Cataract Score", " "),
colwidths = c(1,4,1))
gsc
rmnarkdown::pandoc_version()
rmarkdown::pandoc_version()
tinytex::reinstall_tinytex()
tinytex::reinstall_tinytex()
tinytex::reinstall_tinytex(force = TRUE)
library(tinytex)
remove.packages("tinytex")
install.packages("tinytex")
tinytex::uninstall_tinytex()
tinytex::reinstall_tinytex()
